{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\chrib\\\\Dropbox\\\\Studium\\\\5. Bristol\\\\8.Software_Eng\\\\Github\\\\now-ui-kit-react-master\\\\src\\\\views\\\\examples\\\\MQTTclient.js\";\n// Create a client instance, we create a random id so the broker will allow multiple sessions\nimport React from \"react\";\nimport jQuery from 'jquery';\nimport Paho from 'paho-mqtt';\nimport { BrowserRouter, Route, Switch, Redirect } from \"react-router-dom\";\nimport { Button, Input, InputGroupAddon, InputGroupText, InputGroup, Col, Row } from \"reactstrap\";\nimport ProfilePage from \"views/examples/ProfilePage.js\";\n\nclass Mqtt extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      challenge_name: '',\n      challenge_description: '',\n      challenge_step_goal: '',\n      challenge_end_date: '20-03-31',\n      challenge_reward: '',\n      login_username: '',\n      redirect: false,\n      mqttConnected: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.pushNewChallenge = this.pushNewChallenge.bind(this);\n  }\n\n  componentDidMount() {\n    this.client = new Paho.Client(\"broker.mqttdashboard.com\", 8000, \"clientId\" + this.makeid(3));\n    this.client.connect({\n      onSuccess: this.onConnect\n    });\n    this.client.onConnectionLost = this.onConnectionLost;\n    this.client.onMessageArrived = this.onMessageArrived;\n  }\n\n  render() {\n    if (this.props.type === \"set-challenge\") {\n      return this.renderSetChallenge();\n    }\n\n    if (this.props.type === \"login\") {\n      return this.renderLogin();\n    }\n\n    if (this.props.type === \"sign-up\") {\n      return this.rendersignup();\n    }\n\n    if (this.props.type === \"profile\") {\n      return this.renderProfile();\n    }\n  }\n\n  renderProfile() {\n    if (this.state.mqttConnected === true) {\n      this.requestProfile();\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"category\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"Your Stats\"), React.createElement(\"div\", {\n      className: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"social-description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"35km\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"Steps\")), React.createElement(\"div\", {\n      className: \"social-description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"19hrs\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"Lifetime\")), React.createElement(\"div\", {\n      className: \"social-description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"#1\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Ranking\"))), React.createElement(\"h3\", {\n      className: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"About me\"), React.createElement(\"h5\", {\n      className: \"description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"I only take credit bets with rankers in the top 1000, if you're not in that group, don't @ me. First user to reach 10,000km walked within a month, and only user to ever hold the #1 spot in the leaderboards. Also I'm F2P.\"), React.createElement(\"h3\", {\n      className: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Ongoing Challenges\"), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"A Mile A Day\"), React.createElement(\"img\", {\n      alt: \"...\",\n      className: \"img-raised\",\n      src: require(\"assets/img/walkicon1.png\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"1.6km\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }), \"14hr50m\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Never Stop\"), React.createElement(\"img\", {\n      alt: \"...\",\n      className: \"img-raised\",\n      src: require(\"assets/img/shoewalk1.png\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"\\u221Ekm\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }), \"1hr\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }))), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"Group Walking\"), React.createElement(\"img\", {\n      alt: \"...\",\n      className: \"img-raised\",\n      src: require(\"assets/img/groupwalk1.png\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, \"20km\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }), \"6d10hr25m\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, \"Run From Life\"), React.createElement(\"img\", {\n      alt: \"...\",\n      className: \"img-raised\",\n      src: require(\"assets/img/run1.png\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, \"100km\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }), \"8hr17m\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    })))), React.createElement(\"h3\", {\n      className: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"Achievements\"), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, \"Extreme Strider\"), React.createElement(\"img\", {\n      alt: \"...\",\n      className: \"img-raised\",\n      src: require(\"assets/img/tired1.png\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, \"Close Call\"), React.createElement(\"img\", {\n      alt: \"...\",\n      className: \"img-raised\",\n      src: require(\"assets/img/neardeath1.png\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    })), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"Champion\"), React.createElement(\"img\", {\n      alt: \"...\",\n      className: \"img-raised\",\n      src: require(\"assets/img/winicon1.png\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, \"In The Red\"), React.createElement(\"img\", {\n      alt: \"...\",\n      className: \"img-raised\",\n      src: require(\"assets/img/death1.png\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }))));\n  }\n\n  requestProfile() {\n    console.log(\"Requesting profile...\");\n    var newRequest = {\n      type: \"pull profile\",\n      user_name: \"hans\" // user_name: global.userName\n\n    };\n    this.onSubmit(JSON.stringify(newRequest)); // alert(\"You successfully created a new challenge\");\n  }\n\n  rendersignup() {\n    return React.createElement(Col, {\n      className: \"text-center ml-auto mr-auto\",\n      lg: \"6\",\n      md: \"8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(InputGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, React.createElement(InputGroupAddon, {\n      addonType: \"prepend\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, React.createElement(InputGroupText, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"now-ui-icons users_circle-08\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }))), React.createElement(Input, {\n      placeholder: \"User Name...\",\n      type: \"text\",\n      value: this.state.login_username,\n      onChange: event => this.loginChange('login_username', event),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"send-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, this.redirectToProfile(), React.createElement(Button, {\n      block: true,\n      className: \"btn-round\",\n      color: \"info\",\n      size: \"lg\",\n      onClick: this.handleLogin.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, \"Sign up now\"), React.createElement(\"div\", {\n      className: \"pull-middle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, React.createElement(\"h6\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"link\",\n      href: \"/login-page\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, \"Login to existing Account\")))));\n  }\n\n  redirectToProfile() {\n    if (this.state.redirect) {\n      return React.createElement(Redirect, {\n        to: {\n          pathname: '/profile-page' // state: {login_username: this.state.login_username}\n\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      });\n    }\n  }\n\n  handleLogin() {\n    this.setState({\n      redirect: true\n    });\n  }\n\n  loginChange(type, event) {\n    this.setState({\n      [type]: event.target.value\n    });\n    global.userName = event.target.value;\n  }\n\n  handleChange(type, event) {\n    this.setState({\n      [type]: event.target.value\n    });\n  }\n\n  renderLogin() {\n    return React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }, React.createElement(InputGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }, React.createElement(InputGroupAddon, {\n      addonType: \"prepend\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }, React.createElement(InputGroupText, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"now-ui-icons users_circle-08\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257\n      },\n      __self: this\n    }))), React.createElement(Input, {\n      placeholder: \"User Name...\",\n      type: \"text\",\n      value: this.state.login_username,\n      onChange: event => this.loginChange('login_username', event),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    })), React.createElement(InputGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }, React.createElement(InputGroupAddon, {\n      addonType: \"prepend\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }, React.createElement(InputGroupText, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"now-ui-icons text_caps-small\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }))), React.createElement(Input, {\n      placeholder: \"Password...\",\n      type: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    })), this.redirectToProfile(), React.createElement(Button, {\n      block: true,\n      className: \"btn-round\",\n      color: \"info\" // href=\"/profile-page\"\n      ,\n      onClick: this.handleLogin.bind(this),\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279\n      },\n      __self: this\n    }, \"    Login\"));\n  }\n\n  renderSetChallenge() {\n    return React.createElement(\"form\", {\n      align: \"left\",\n      onSubmit: this.validateChallengeInput.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"form-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296\n      },\n      __self: this\n    }, \"Challenge Name:  \"), React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.challenge_name,\n      onChange: event => this.handleChange('challenge_name', event),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"form-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298\n      },\n      __self: this\n    }, \"Description:  \"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"challenge-textfield\",\n      value: this.state.challenge_description,\n      onChange: event => this.handleChange('challenge_description', event),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"form-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300\n      },\n      __self: this\n    }, \"End Date: \"), React.createElement(\"input\", {\n      type: \"date\",\n      value: this.state.challenge_end_date,\n      onChange: event => this.handleChange('challenge_end_date', event),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"form-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302\n      },\n      __self: this\n    }, \"Step Goal: \"), React.createElement(\"input\", {\n      type: \"number\",\n      value: this.state.challenge_step_goal,\n      onChange: event => this.handleChange('challenge_step_goal', event),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"form-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304\n      },\n      __self: this\n    }, \"User Reward: \"), React.createElement(\"input\", {\n      type: \"number\",\n      value: this.state.challenge_reward,\n      onChange: event => this.handleChange('challenge_reward', event),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"submit-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307\n      },\n      __self: this\n    }, \"Create Challenge\"));\n  }\n\n  validateChallengeInput(event) {\n    event.preventDefault();\n\n    if (this.state.challenge_name === '' || this.state.challenge_description === '' || this.state.challenge_reward === '' || this.state.challenge_step_goal === '') {\n      alert(\"Please complete all fields\");\n    } else if (this.state.challenge_reward >= 0 && this.state.challenge_step_goal >= 0) {\n      this.pushNewChallenge(event);\n    } else {\n      alert(\"Please enter positive numbers\");\n    }\n  }\n\n  pushNewChallenge(event) {\n    console.log(JSON.stringify(this.state.challenge_name)); // var x = Mqtt.getByValue(\"challenge-name\");\n\n    console.log(\"Pushing New Challenge\");\n    var today = new Date(),\n        date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate() + 'T' + today.getHours() + ':' + today.getMinutes() + ':' + today.getSeconds() + '.' + today.getMilliseconds() + 'Z';\n    var newChallenge = {\n      type: \"push new challenge\",\n      challenge_id: \"C\" + this.makeid(6),\n      challenge_name: this.state.challenge_name,\n      description: this.state.challenge_description,\n      end_time: this.state.challenge_end_date,\n      step_goal: this.state.challenge_step_goal,\n      reward: this.state.challenge_reward,\n      current_time: date\n    };\n    this.onSubmit(JSON.stringify(newChallenge));\n    alert(\"You successfully created a new challenge\");\n  } // called when the client connects\n\n\n  onConnect() {\n    // Once a connection has been made report.\n    console.log(\"Connected\");\n    this.setState({\n      redirect: true\n    }); // this.state.mqttConnected = true;\n  } // called when the client connects\n\n\n  onSubmit(payload) {\n    // Once a connection has been made, make a subscription and send a message.\n    console.log(\"onSubmit\");\n    this.client.subscribe(\"doordie_web\");\n    var message = new Paho.Message(payload);\n    message.destinationName = \"doordie_web\";\n    this.client.send(message);\n  } // called to generate the IDs\n\n\n  makeid(length) {\n    var result = '';\n    var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    var charactersLength = characters.length;\n\n    for (var i = 0; i < length; i++) {\n      result += characters.charAt(Math.floor(Math.random() * charactersLength));\n    }\n\n    return result;\n  } // called when the client loses its connection\n\n\n  onConnectionLost(responseObject) {\n    if (responseObject.errorCode !== 0) {\n      console.log(\"Mqtt.onConnectionLost:\" + responseObject.errorMessage);\n    }\n  } // called when a message arrives\n\n\n  onMessageArrived(message) {\n    console.log(\"Mgtt.onMessageArrived:\" + message.payloadString);\n  }\n\n}\n\nexport default Mqtt;","map":{"version":3,"sources":["C:/Users/chrib/Dropbox/Studium/5. Bristol/8.Software_Eng/Github/now-ui-kit-react-master/src/views/examples/MQTTclient.js"],"names":["React","jQuery","Paho","BrowserRouter","Route","Switch","Redirect","Button","Input","InputGroupAddon","InputGroupText","InputGroup","Col","Row","ProfilePage","Mqtt","Component","constructor","props","state","challenge_name","challenge_description","challenge_step_goal","challenge_end_date","challenge_reward","login_username","redirect","mqttConnected","handleChange","bind","pushNewChallenge","componentDidMount","client","Client","makeid","connect","onSuccess","onConnect","onConnectionLost","onMessageArrived","render","type","renderSetChallenge","renderLogin","rendersignup","renderProfile","requestProfile","require","console","log","newRequest","user_name","onSubmit","JSON","stringify","event","loginChange","redirectToProfile","handleLogin","pathname","setState","target","value","global","userName","validateChallengeInput","preventDefault","alert","today","Date","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","newChallenge","challenge_id","description","end_time","step_goal","reward","current_time","payload","subscribe","message","Message","destinationName","send","length","result","characters","charactersLength","i","charAt","Math","floor","random","responseObject","errorCode","errorMessage","payloadString"],"mappings":"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","sourcesContent":["// Create a client instance, we create a random id so the broker will allow multiple sessions\nimport React from \"react\";\nimport jQuery from 'jquery';\nimport Paho from 'paho-mqtt';\nimport { BrowserRouter, Route, Switch, Redirect } from \"react-router-dom\";\n\n\nimport {\n  Button,\n  Input,\n  InputGroupAddon,\n  InputGroupText,\n  InputGroup,\n  Col,\n  Row,\n\n} from \"reactstrap\";\n\nimport ProfilePage from \"views/examples/ProfilePage.js\";\n\n\nclass Mqtt extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n\n    this.state = {\n        challenge_name: '',\n        challenge_description: '',\n        challenge_step_goal: '',\n        challenge_end_date: '20-03-31',\n        challenge_reward: '',\n        login_username: '',\n        redirect: false,\n        mqttConnected: false,\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.pushNewChallenge = this.pushNewChallenge.bind(this);\n  }\n\n  componentDidMount() {\n    this.client = new Paho.Client(\"broker.mqttdashboard.com\", 8000, \"clientId\" + this.makeid(3) );\n    this.client.connect({onSuccess: this.onConnect});\n    this.client.onConnectionLost = this.onConnectionLost;\n    this.client.onMessageArrived = this.onMessageArrived;\n  }\n\n  render(){\n      if(this.props.type === \"set-challenge\"){\n        return(this.renderSetChallenge())\n      }\n      if(this.props.type === \"login\"){\n        return(this.renderLogin())\n      }\n      if(this.props.type === \"sign-up\"){\n        return(this.rendersignup())\n      }\n      if(this.props.type === \"profile\"){\n        return(this.renderProfile())\n      }\n  }\n\n\nrenderProfile(){\n  if (this.state.mqttConnected === true){\n    this.requestProfile();\n  }\n  return(\n    <div>\n    <p className=\"category\">Your Stats</p>\n    <div className=\"content\">\n      <div className=\"social-description\">\n        <h2>35km</h2>\n        <p>Steps</p>\n      </div>\n      <div className=\"social-description\">\n        <h2>19hrs</h2>\n        <p>Lifetime</p>\n      </div>\n      <div className=\"social-description\">\n        <h2>#1</h2>\n        <p>Ranking</p>\n      </div>\n    </div>\n    <h3 className=\"title\">About me</h3>\n    <h5 className=\"description\">\n      I only take credit bets with rankers in the top 1000, if you're\n      not in that group, don't @ me. First user to reach 10,000km walked\n      within a month, and only user to ever hold the #1 spot in the\n      leaderboards. Also I'm F2P.\n    </h5>\n<h3 className=\"title\">Ongoing Challenges</h3>\n<Row>\n<Col>\n<p>A Mile A Day</p>\n                <img\n                  alt=\"...\"\n                  className=\"img-raised\"\n                  src={require(\"assets/img/walkicon1.png\")}\n                ></img>\n<p>1.6km<br/>\n14hr50m<br/><br/></p>\n<p>Never Stop</p>\n<img\n                  alt=\"...\"\n                  className=\"img-raised\"\n                  src={require(\"assets/img/shoewalk1.png\")}\n                ></img>\n<p>&infin;km<br/>\n1hr<br/><br/></p>\n              </Col>\n              <Col>\n<p>Group Walking</p>\n<img\n                  alt=\"...\"\n                  className=\"img-raised\"\n                  src={require(\"assets/img/groupwalk1.png\")}\n                ></img>\n<p>20km<br/>\n6d10hr25m<br/><br/></p>\n<p>Run From Life</p>\n<img\n                  alt=\"...\"\n                  className=\"img-raised\"\n                  src={require(\"assets/img/run1.png\")}\n                ></img>\n<p>100km<br/>\n8hr17m<br/><br/></p>\n              </Col>\n</Row>\n<h3 className=\"title\">Achievements</h3>\n    <Row>\n              <Col>\n<p>Extreme Strider</p>\n                <img\n                  alt=\"...\"\n                  className=\"img-raised\"\n                  src={require(\"assets/img/tired1.png\")}\n                ></img><br/><br/><br/><br/>\n<p>Close Call</p>\n                <img\n                  alt=\"...\"\n                  className=\"img-raised\"\n                  src={require(\"assets/img/neardeath1.png\")}\n                ></img><br/><br/><br/><br/>\n              </Col>\n              <Col>\n<p>Champion</p>\n                <img\n                  alt=\"...\"\n                  className=\"img-raised\"\n                  src={require(\"assets/img/winicon1.png\")}\n                ></img><br/><br/><br/><br/>\n<p >In The Red</p>\n                <img\n                  alt=\"...\"\n                  className=\"img-raised\"\n                  src={require(\"assets/img/death1.png\")}\n                ></img><br/><br/><br/><br/>\n              </Col>\n            </Row>\n  </div>\n\n  )\n}\n\nrequestProfile(){\n\n  console.log(\"Requesting profile...\");\n  var newRequest = {\n    type: \"pull profile\",\n    user_name: \"hans\"\n\n    // user_name: global.userName\n  }\n\n  this.onSubmit(JSON.stringify(newRequest));\n  // alert(\"You successfully created a new challenge\");\n}\n\nrendersignup(){\n  return(\n    <Col className=\"text-center ml-auto mr-auto\" lg=\"6\" md=\"8\">\n    <InputGroup>\n      <InputGroupAddon addonType=\"prepend\">\n        <InputGroupText>\n          <i className=\"now-ui-icons users_circle-08\"></i>\n        </InputGroupText>\n      </InputGroupAddon>\n      <Input\n        placeholder=\"User Name...\"\n        type=\"text\"\n        value={this.state.login_username}\n        onChange={(event) => this.loginChange('login_username', event)}\n      ></Input>\n    </InputGroup>\n    <div className=\"send-button\">\n    {this.redirectToProfile()}\n      <Button\n        block\n        className=\"btn-round\"\n        color=\"info\"\n        size=\"lg\"\n        onClick={this.handleLogin.bind(this)}\n      >\n      Sign up now\n\n      </Button>\n      <div className=\"pull-middle\">\n        <h6>\n          <a\n            className=\"link\"\n            href=\"/login-page\"\n          >\n            Login to existing Account\n          </a>\n        </h6>\n      </div>\n    </div>\n    </Col>\n  )\n}\n\nredirectToProfile(){\n  if (this.state.redirect) {\n    return(\n         <Redirect to={{\n               pathname: '/profile-page',\n               // state: {login_username: this.state.login_username}\n           }} />)\n  }\n}\n\nhandleLogin(){\n  this.setState({\n  redirect: true\n})\n}\n\nloginChange(type,event){\n  this.setState({[type]: event.target.value});\n  global.userName= event.target.value;\n}\n\nhandleChange(type,event) {\n   this.setState({[type]: event.target.value});\n}\n\nrenderLogin(){\n  return(\n    <form >\n    <InputGroup\n      >\n      <InputGroupAddon addonType=\"prepend\">\n        <InputGroupText>\n          <i className=\"now-ui-icons users_circle-08\"></i>\n        </InputGroupText>\n      </InputGroupAddon>\n      <Input\n        placeholder=\"User Name...\"\n        type=\"text\"\n        value={this.state.login_username}\n        onChange={(event) => this.loginChange('login_username', event)}\n      ></Input>\n    </InputGroup>\n    <InputGroup>\n      <InputGroupAddon addonType=\"prepend\">\n        <InputGroupText>\n          <i className=\"now-ui-icons text_caps-small\"></i>\n        </InputGroupText>\n      </InputGroupAddon>\n      <Input\n        placeholder=\"Password...\"\n        type=\"password\"\n      ></Input>\n    </InputGroup>\n    {this.redirectToProfile()}\n    <Button\n      block\n      className=\"btn-round\"\n      color=\"info\"\n      // href=\"/profile-page\"\n      onClick={this.handleLogin.bind(this)}\n      size=\"lg\"\n      >    Login\n    </Button>\n    </form>\n  );\n\n}\n\nrenderSetChallenge(){\n  return(\n    <form align=\"left\" onSubmit={this.validateChallengeInput.bind(this)} >\n    <label className =\"form-label\">Challenge Name:  </label>\n    <input type=\"text\"  value={this.state.challenge_name} onChange={(event) => this.handleChange('challenge_name', event)} /><p/>\n    <label className =\"form-label\">Description:  </label>\n    <input type=\"text\" className='challenge-textfield' value={this.state.challenge_description} onChange={(event) => this.handleChange('challenge_description', event)} /><p/>\n    <label className =\"form-label\">End Date: </label>\n    <input type=\"date\"  value={this.state.challenge_end_date} onChange={(event) => this.handleChange('challenge_end_date', event)} /><p/>\n    <label className =\"form-label\">Step Goal: </label>\n    <input type=\"number\"  value={this.state.challenge_step_goal} onChange={(event) => this.handleChange('challenge_step_goal', event)}/><p/>\n    <label className =\"form-label\">User Reward: </label>\n    <input type=\"number\"  value={this.state.challenge_reward} onChange={(event) => this.handleChange('challenge_reward', event)}/><p/>\n\n    <button className=\"submit-button\">Create Challenge</button>\n    </form>\n  )\n}\n\n  validateChallengeInput(event){\n    event.preventDefault();\n    if(this.state.challenge_name === '' || this.state.challenge_description === '' || this.state.challenge_reward === '' || this.state.challenge_step_goal === ''){\n      alert(\"Please complete all fields\");\n    }\n    else if(this.state.challenge_reward >=0 && this.state.challenge_step_goal >=0){\n      this.pushNewChallenge(event);\n    }\n    else{\n      alert(\"Please enter positive numbers\");\n\n    }\n  }\n\n  pushNewChallenge(event){\n    console.log(JSON.stringify(this.state.challenge_name));\n    // var x = Mqtt.getByValue(\"challenge-name\");\n    console.log(\"Pushing New Challenge\");\n    var today = new Date(),\n    date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate()+'T'+today.getHours()+':'+today.getMinutes()+':'+today.getSeconds()+'.'+today.getMilliseconds()+'Z';\n  \tvar newChallenge = {\n      type: \"push new challenge\",\n      challenge_id: \"C\" + this.makeid(6),\n      challenge_name: this.state.challenge_name,\n      description: this.state.challenge_description,\n      end_time: this.state.challenge_end_date,\n      step_goal: this.state.challenge_step_goal,\n      reward: this.state.challenge_reward,\n      current_time: date\n    }\n\n  \tthis.onSubmit(JSON.stringify(newChallenge));\n    alert(\"You successfully created a new challenge\");\n  }\n\n  // called when the client connects\n  onConnect() {\n    // Once a connection has been made report.\n    console.log(\"Connected\");\n    this.setState({\n    redirect: true\n  });\n\n    // this.state.mqttConnected = true;\n  }\n  // called when the client connects\n  onSubmit(payload) {\n    // Once a connection has been made, make a subscription and send a message.\n    console.log(\"onSubmit\");\n    this.client.subscribe(\"doordie_web\");\n    var message = new Paho.Message(payload);\n    message.destinationName = \"doordie_web\";\n    this.client.send(message);\n  }\n  // called to generate the IDs\n  makeid(length) {\n     var result           = '';\n     var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n     var charactersLength = characters.length;\n     for ( var i = 0; i < length; i++ ) {\n        result += characters.charAt(Math.floor(Math.random() * charactersLength));\n     }\n     return result;\n  }\n\n  // called when the client loses its connection\n  onConnectionLost(responseObject) {\n    if (responseObject.errorCode !== 0) {\n      console.log(\"Mqtt.onConnectionLost:\"+responseObject.errorMessage);\n    }\n  }\n\n  // called when a message arrives\n  onMessageArrived(message) {\n    console.log(\"Mgtt.onMessageArrived:\"+message.payloadString);\n  }\n\n}\nexport default Mqtt;\n"]},"metadata":{},"sourceType":"module"}